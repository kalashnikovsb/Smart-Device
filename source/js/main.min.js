"use strict";var body=document.querySelector("body"),popup=document.querySelector(".popup"),form=document.querySelector(".popup__form"),openButton=document.querySelector(".button--callback"),closeButton=document.querySelector(".popup__close"),nameInput=document.querySelector(".popup [id=popup-name]"),popupTel=document.querySelector(".popup [id=popup-tel]"),contactTel=document.querySelector("[id=contact-tel]"),consultationLink=document.querySelector(".button--consultation"),consultationAnchor=document.querySelector("[id=consultation]"),featuresLink=document.querySelector(".attraction__scroll"),featuresAnchor=document.querySelector("[id=features]"),openTop=document.querySelector("#open-top"),openBottom=document.querySelector("#open-bottom"),listTop=document.querySelector(".main-footer__list-wrap"),listBottom=document.querySelector(".main-footer__list--right"),textBottom=document.querySelector(".main-footer__list-text"),bodyScrollTop=0;function getBodyScrollTop(){return self.pageYOffset||document.documentElement&&document.documentElement.ScrollTop||document.body&&document.body.scrollTop}var closePopup=function(){popup.classList.add("visually-hidden"),body.removeChild(overlay),body.removeAttribute("style"),body.classList.remove("no-scroll"),window.scrollTo(0,bodyScrollTop)},overlay=document.createElement("div");overlay.classList.add("overlay"),openButton&&openButton.addEventListener("click",function(o){if(o.preventDefault(),popup.classList.contains("visually-hidden")){bodyScrollTop=getBodyScrollTop(),body.style.top="-"+getBodyScrollTop()+"px";var e=getBodyScrollTop();bodyScrollTop=e,body.style.top="-"+e+"px",body.classList.add("no-scroll"),popup.classList.remove("visually-hidden"),body.appendChild(overlay)}localStorage.getItem("name")&&(nameInput.value=localStorage.getItem("name"),nameInput.focus()),localStorage.getItem("tel")&&(popupTel.value=localStorage.getItem("tel")),nameInput.focus()}),closeButton&&closeButton.addEventListener("click",function(){popup.classList.contains("visually-hidden")||closePopup()}),window.addEventListener("keydown",function(o){27===o.keyCode&&(popup.classList.add("visually-hidden"),document.querySelector(".overlay")&&closePopup())}),overlay&&overlay.addEventListener("click",function(){popup.classList.contains("visually-hidden")||closePopup()}),form&&form.addEventListener("submit",function(o){nameInput.value&&popupTel.value||(o.preventDefault(),closePopup()),localStorage.setItem("name",nameInput.value),localStorage.setItem("tel",popupTel.value)}),consultationLink&&consultationLink.addEventListener("click",function(o){o.preventDefault(),consultationAnchor.scrollIntoView({block:"start",behavior:"smooth"})}),featuresLink&&featuresLink.addEventListener("click",function(o){o.preventDefault(),featuresAnchor.scrollIntoView({block:"start",behavior:"smooth"})}),openTop&&openTop.addEventListener("click",function(){listTop.classList.contains("visually-hidden")?(listTop.classList.remove("visually-hidden"),openTop.classList.toggle("main-footer__open-menu--opened"),listBottom.classList.contains("visually-hidden")||(listBottom.classList.add("visually-hidden"),textBottom.classList.add("visually-hidden"),openBottom.classList.toggle("main-footer__open-menu--opened"))):(listTop.classList.add("visually-hidden"),openTop.classList.toggle("main-footer__open-menu--opened"))}),openBottom&&openBottom.addEventListener("click",function(){listBottom.classList.contains("visually-hidden")?(listBottom.classList.remove("visually-hidden"),textBottom.classList.remove("visually-hidden"),openBottom.classList.toggle("main-footer__open-menu--opened"),listTop.classList.contains("visually-hidden")||(listTop.classList.add("visually-hidden"),openTop.classList.toggle("main-footer__open-menu--opened"))):(listBottom.classList.add("visually-hidden"),textBottom.classList.add("visually-hidden"),openBottom.classList.toggle("main-footer__open-menu--opened"))}),window.addEventListener("resize",function(){window.matchMedia("(min-width: 768px)").matches?(listTop.classList.contains("visually-hidden")&&(listTop.classList.remove("visually-hidden"),openTop.classList.toggle("main-footer__open-menu--opened")),listBottom.classList.contains("visually-hidden")&&(listBottom.classList.remove("visually-hidden"),textBottom.classList.remove("visually-hidden"),openBottom.classList.toggle("main-footer__open-menu--opened"))):(listTop.classList.contains("visually-hidden")||(listTop.classList.add("visually-hidden"),openTop.classList.toggle("main-footer__open-menu--opened")),listBottom.classList.contains("visually-hidden")||(listBottom.classList.add("visually-hidden"),textBottom.classList.add("visually-hidden"),openBottom.classList.toggle("main-footer__open-menu--opened")))});var telOptions={mask:"+{7}(000)000-00-00"};if(popupTel)var popupMask=IMask(popupTel,telOptions);if(contactTel)var contactMask=IMask(contactTel,telOptions);
